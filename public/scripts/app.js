!function(){"use strict";var n="undefined"==typeof window?global:window;if("function"!=typeof n.require){var e={},r={},t={},i={}.hasOwnProperty,o="components/",s=function(n,e){var r=0;e&&(0===e.indexOf(o)&&(r=o.length),e.indexOf("/",r)>0&&(e=e.substring(r,e.indexOf("/",r))));var i=t[n+"/index.js"]||t[e+"/deps/"+n+"/index.js"];return i?o+i.substring(0,i.length-".js".length):n},u=/^\.\.?(\/|$)/,a=function(n,e){for(var r,t=[],i=(u.test(e)?n+"/"+e:e).split("/"),o=0,s=i.length;s>o;o++)r=i[o],".."===r?t.pop():"."!==r&&""!==r&&t.push(r);return t.join("/")},c=function(n){return n.split("/").slice(0,-1).join("/")},l=function(e){return function(r){var t=a(c(e),r);return n.require(t,e)}},f=function(n,e){var t={id:n,exports:{}};return r[n]=t,e(t.exports,l(n),t),t.exports},p=function(n,t){var o=a(n,".");if(null==t&&(t="/"),o=s(n,t),i.call(r,o))return r[o].exports;if(i.call(e,o))return f(o,e[o]);var u=a(o,"./index");if(i.call(r,u))return r[u].exports;if(i.call(e,u))return f(u,e[u]);throw new Error('Cannot find module "'+n+'" from "'+t+'"')};p.alias=function(n,e){t[e]=n},p.register=p.define=function(n,r){if("object"==typeof n)for(var t in n)i.call(n,t)&&(e[t]=n[t]);else e[n]=r},p.list=function(){var n=[];for(var r in e)i.call(e,r)&&n.push(r);return n},p.brunch=!0,p._cache=r,n.require=p}}(),require.register("helpers/helpers",function(n,e,r){"use strict";var t=e("lodash"),i=e("jquery"),o=e("humanize-duration"),s=t.curry(function(n,e){return(e||{})[n]}),u=t.curry(function(n,e){return t.map(e,n)}),a=t.curry(function(n,e,r){return t.reduce(r,n,e)}),c=function(n){return console.log(JSON.stringify(n)),n},l=function(n){return new Promise(function(e,r){return i.getJSON({url:n,timeout:4e4},e).fail(r)})},f=function(n){i(n).hide()},p=function(n,e){i(n).append(e)},d=t.curry(function(n,e){return e.split(n)}),v=t.curry(function(n,e){return e.join(n)}),h=t.flow(s("search"),t.tail,v(""),d("&"),u(d("=")),t.fromPairs,s("env")),m=o.humanizer({language:"shortEn",languages:{shortEn:{h:function(){return"h"},m:function(){return"min"},s:function(){return"s"},ms:function(){return"ms"}}},round:!0,spacer:"",delimiter:""}),g=t.curry(function(n,e){i(n).html(e)}),w={prop:s,map:u,reduce:a,trace:c,$getJSON:l,$hide:f,$append:p,$setHTML:g,env:h,formatDuration:m};r.exports=w}),require.register("views/components/jobView",function(n,e,r){"use strict";var t=e("./statusView"),i=function(n){return'<article class="job-card col s12 m2 card"><div class="title-wrapper card-content truncate"><span title="'+n.name+'" class="title card-title">'+n.name+"</span></div>"+t.render(n)+"</article>"};r.exports={render:i}}),require.register("views/components/pipelineView",function(n,e,r){"use strict";var t=e("lodash"),i=e("../../helpers/helpers"),o=e("./jobView"),s=e("./statusView"),u=function(n){var e=function(n,e){return n+e.duration},r=t.flow(i.prop("jobs"),i.reduce(e,0));return t.assign({},n,{duration:r(n)})},a=function(n){var e=t.flow(i.prop("jobs"),t.last,i.prop("finishedAt"));return t.assign({},n,{finishedAt:e(n)})},c=function(n){return'<section class="row"><header class="pipeline-title"><span class="title">'+n.name+'</span><span class="revision">#'+n.revision+"</span>"+s.render(n)+'</header><section class="row">'+i.map(o.render,n.jobs).join("")+'</section><div class="divider"></div></section>'};r.exports={render:t.flow(u,a,c)}}),require.register("views/components/statusView",function(n,e,r){"use strict";var t=e("lodash"),i=e("moment"),o=e("../../helpers/helpers").formatDuration,s=function(n){return'<div class="duration" title="It took '+n+' running last time"><i class="icon fa fa-clock-o"></i>'+n+"</div>"},u=t.flow(o,s),a=function(n){return'<div class="lastrun" title="Last time it ran was '+n+'"><i class="icon fa fa-flag-checkered"></i>'+n+"</div>"},c=t.curry(function(n,e){return n(e).fromNow()}),l=t.flow(Number,c(i),a),f=function(n){return l(n.finishedAt).concat(u(n.duration))},p='<div class="loading"><div class="indeterminate"></div></div>',d=function(n){var e="running"===n.status?p:f(n);return'<div class="status-box" data-status="'+n.status+'">'+e+"</div>"};r.exports={render:d}}),require.register("views/index",function(n,e,r){"use strict";function t(n){var e=n||"An error occurred loading the page. Please try again.";return function(n){a.$append("#content-container",e),a.trace(n)}}function i(){a.$hide(".pipelines-loading")}function o(){function n(){return Promise.resolve(["Web Application","Digital Service","Transversal Service"])}function e(n){a.$append("#content-container",c(n))}function r(n){var r='Fetching Pipeline "'+n+'" failed. Please refresh the page.';return a.$getJSON("/api/pipelines/"+n).then(e)["catch"](t(r))}function o(){return n().then(function(n){return Promise.all(n.map(r))})}return function(){o()["catch"](t()).then(i)}}function s(){var n=u.flow(a.map(c),a.$setHTML("#content-container"));return function(){a.$getJSON("/api/pipelines").then(n)["catch"](t()).then(i)}}var u=e("lodash"),a=e("../helpers/helpers"),c=e("./components/pipelineView").render;r.exports={init:"dev"===a.env(location)?o():s()}});